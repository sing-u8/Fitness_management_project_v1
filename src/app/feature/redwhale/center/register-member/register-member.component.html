<section class="user-select-none thin-scroll-y-overlay2 ">
  <div class="header">
    <div class="header-text-container">
      <p class="rw-typo-headline1">ìƒˆë¡œìš´ íšŒì›ë‹˜ì´ ì˜¤ì…¨êµ°ìš”! ğŸ‘</p>
      <p class="rw-typo-headline1">QRì½”ë“œë¡œ ê°„í¸í•˜ê²Œ íšŒì›ì„ ë“±ë¡í•´ë³´ì„¸ìš”.</p>
    </div>

    <div class="cg-typo-subtext close-button" rw-button rwButtonWidth="85" rwButtonHeight="40"
      rwButtonBorderColor="var(--font-color)" (click)="goDashboard()">
      <span class="mdi mdi-close"></span>
      <span>ë‹«ê¸°</span>
    </div>
  </div>


  <div class="main thin-scroll-x-overlay2">

    <div class="main-inner-container">

      <div class="content-qrcode-container">

        <div class="qrcode-outer-container">

          <div class="qrcode-container">

            <div class='qrcode-title '>
              <span class="rw-typo-title2">ì‹ ê·œ íšŒì› ë“±ë¡</span>
              <div class="help">
                <img src="assets/icons/etc/help.svg">
                <div class="help-text-container">
                  <div class="help-text">
                  <div class="help-text-title">ì‹ ê·œ íšŒì› ë“±ë¡ ë°©ë²•</div>
                  <div class="help-text-content">
                    <div class="rw-typo-bodytext2">
                      <p>01</p> íšŒì›ë‹˜ì˜ í°ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="rw-typo-bodytext2">
                      <p>02</p> íšŒì›ë‹˜ í°ì˜ ì¹´ë©”ë¼ ì–´í”Œì„ ì¼œ QRì½”ë“œë¥¼ ìŠ¤ìº”í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="rw-typo-bodytext2">
                      <p>03</p> ì—°ê²°ëœ ë§í¬ì—ì„œ íšŒì›ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="rw-typo-bodytext2">
                      <p>04</p>íšŒì› ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆì–´ìš”!
                    </div>
                  </div>
                </div>
                </div>

              </div>

            </div>

            <div class="divider"></div>

            <div class="qrcode-box">
              <img src="assets/icons/etc/qrcode_edge.svg" class='left-top '>
              <img src="assets/icons/etc/qrcode_edge.svg" class='right-top rotate-90'>
              <img src="assets/icons/etc/qrcode_edge.svg" class='right-bottom rotate-180'>
              <img src="assets/icons/etc/qrcode_edge.svg" class='left-bottom rotate-270'>

              <canvas class="qrcode" #qrcode_canvas></canvas>
            </div>

            <a (click)="downloadGymQRcode($event)" class="download-button rw-typo-bodytext2">
              <img src="assets/icons/etc/download.svg">
              <canvas class="qrcode-for-download" #qrcode_canvas_download hidden></canvas>
              QR ë‹¤ìš´ë¡œë“œ
            </a>

          </div>

          <div class="direct-registration rw-typo-bodytext2">
            <p>QRì½”ë“œ ìŠ¤ìº”ì´ ì–´ë ¤ìš´ íšŒì›ì´ì„¸ìš”?</p>
            <p (click)="goDirectRegistration()" class="direct-registration-link">ì„¼í„°ì—ì„œ ì§ì ‘ ë“±ë¡í•˜ê¸°</p>

          </div>


        </div>
        <div class="content-container">
          <div *ngIf='isMemberDetail == false' class="content">

            <div class="content-header rw-typo-title2">
              ì˜¤ëŠ˜ ë“±ë¡í•œ íšŒì›
            </div>

            <div *ngIf='false' class="not-registered rw-typo-bodytext1">
              <img src="assets/icons/etc/empty_screen.svg" >
              <p>ì•„ì§ ë“±ë¡í•œ íšŒì›ì´ ì—†ì–´ìš”.</p>
            </div>

            <div *ngIf='registeredUserList.length > 0' class="new-members">
                <ng-template ngFor let-item [ngForOf]="registeredUserList" let-i=index>
                  <new-member-card
                    [cardIndex]="registeredUserList.length - i" [member]="item"
                    [memberLength]=registeredUserList.length
                    [registeredTime] = registeredUserTimeList[i].today
                    (sendMemberData)="onCardClick($event, registeredUserTimeList[i].fullTime)"
                  ></new-member-card>
                </ng-template>
            </div>

          </div>

          <div *ngIf="isMemberDetail == true" class="content">
            <div class="content-header rw-typo-title2">
              íšŒì› ì •ë³´
            </div>
            <div class="member-detail-box">
              <div class="member-avatar-card">
                <rw-avatar
                  [image] ="selectedMember.picture"
                  [text] ="selectedMember.center_user_name ?? selectedMember.name"
                  [backgroundColor] ="selectedMember.color"
                  size ="77"
                  fontSize ="25"
                ></rw-avatar>
                <div class="member-info">
                  <div class="name rw-typo-title2">{{selectedMember.center_user_name ?? selectedMember.name}}ë‹˜</div>
                  <div class="registered-at rw-typo-subtext2">
                    {{selectedMemberAge}}
                    &nbsp;ë“±ë¡
                  </div>
                </div>
              </div>
              <div class="member-detail">
                <div class="detail-item">
                  <div class="category rw-typo-subtext2">íšŒì›ë²ˆí˜¸</div>
                  <div class=" rw-typo-bodytext0">{{selectedMember.membership_number}}</div>
                </div>
                <div class="detail-item">
                  <div class="category rw-typo-subtext2">ì „í™”ë²ˆí˜¸</div>
                  <div class=" rw-typo-bodytext0">{{selectedMember.phone_number}}</div>
                </div>
                <div class="detail-item">
                  <div class="category rw-typo-subtext2">ì´ë©”ì¼</div>
                  <div class=" rw-typo-bodytext0">{{selectedMember.email ? selectedMember.email : 'ã…¡'}}</div>
                </div>
                <div class="detail-item">
                  <div class="category rw-typo-subtext2">ìƒë…„ì›”ì¼</div>
                  <div class=" rw-typo-bodytext0">{{selectedMember.birth_date ? getUserAge(selectedMember.birth_date) : 'ã…¡'}}</div>
                </div>
                <div class="detail-item">
                  <div class="category rw-typo-subtext2">ì„±ë³„</div>
                  <div class=" rw-typo-bodytext0">
                    {{selectedMember.sex == 'male' ?  'ë‚¨ì„±' : selectedMember.sex == 'female' ? 'ì—¬ì„±' : 'ã…¡' }}
                  </div>
                </div>
              </div>
              <div class="memo">
                <div class="rw-typo-subtext2">ë©”ëª¨</div>
                <textarea
                  name = "member_memo"
                  (blur) = "onTextAreaBlur($event)"
                  placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
                  cols="30" rows="10"
                  class="rw-typo-bodytext1 thin-scroll-y-overlay2 thin-scroll-x-overlay2"
                >{{selectedMember.center_user_memo}}</textarea>
              </div>

              <div class="button-box">

                <div
                  class="back-button"
                  rw-button
                  rwButtonBorderColor="var(--border-color)"
                  rwButtonWidth="124"
                  rwButtonHeight="50"
                  (click) ="onBack()"
                >
                  <img src="assets/icons/etc/short_left_arrow_grey.svg" >
                  <span>ëŒì•„ê°€ê¸°</span>
                </div>
                <div
                  class="allocate-loc-mem"
                  rw-button
                  rwButtonColor="var(--darkgrey)"
                  rwButtonWidth="365"
                  rwButtonHeight="50"
                  (click) = "allocateLockerAndMembership()"
                >
                  íšŒì›ê¶Œ/ë½ì»¤ ë°°ì •í•˜ê¸°
                </div>

              </div>

            </div>

          </div>

        </div>

      </div>

    </div>



  </div>

</section>


